{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\n// const thead = table.tHead;\nlet tbody = table.tBodies[0];\nlet tbodyRows = [...tbody.rows];\n\nfunction toNumber(str) {\n  const num = parseFloat(str.replace(/[$,]/g, ''));\n\n  return isNaN(num) ? str.trim().toLowerCase() : num;\n}\n// TABLE\n\n// eslint-disable-next-line no-shadow\ntable.addEventListener('click', (event) => {\n  const title = event.target.closest('th');\n  const row = event.target.closest('tr');\n\n  if (title) {\n    const index = title.cellIndex;\n    const newRows = [...tbodyRows];\n    const isSorted = title.classList.toggle('sorted');\n\n    newRows.sort((a, b) => {\n      const valueFirst = isSorted\n        ? `${b.cells[index].innerHTML}`\n        : `${a.cells[index].innerHTML}`;\n      const valueSecond = isSorted\n        ? `${a.cells[index].innerHTML}`\n        : `${b.cells[index].innerHTML}`;\n\n      if (!isNaN(toNumber(valueFirst)) && !isNaN(toNumber(valueSecond))) {\n        return toNumber(valueFirst) - toNumber(valueSecond);\n      }\n\n      return valueFirst.localeCompare(valueSecond);\n    });\n\n    tbody.innerHTML = '';\n    // eslint-disable-next-line no-shadow\n    newRows.forEach((row) => tbody.appendChild(row));\n  }\n\n  if (row && row.rowIndex !== 0 && row.rowIndex !== tbodyRows.length - 1) {\n    let countActive = 0;\n\n    for (const r of tbodyRows) {\n      if (r.classList.contains('active')) {\n        countActive++;\n      }\n    }\n\n    row.classList.toggle('active', countActive < 1);\n  }\n});\n\nconst body = document.body;\nconst form = document.createElement('form');\n\n// FORM\n\nform.classList.add('new-employee-form');\n\nform.innerHTML = `\n<label>Name: <input name='name' type='text' data-qa=\"name\" required></label>\n<label>Position: <input name='position' type='text' data-qa=\"position\" required></label>\n<label>Office:\n  <select name=\"office\" id=\"office\" data-qa=\"office\" required>\n    <option value=\"tokyo\">Tokyo</option>\n    <option value=\"singapore\">Singapore</option>\n    <option value=\"london\">London</option>\n    <option value=\"new york\">New York</option>\n    <option value=\"edinburgh\">Edinburgh</option>\n    <option value=\"san francisco\">San Francisco</option>\n  </select>\n</label>\n<label>Age: <input name='age' type='number' data-qa=\"age\" required> </label>\n<label>Salary: <input name='salary' type='number' data-qa=\"salary\" required> </label>\n<button type='submit'>Save to table</button>\n`;\nbody.appendChild(form);\n\n// BUTTON\n\nconst button = body.querySelector(\"[type='submit']\");\nconst createRow = (data) => {\n  const row = document.createElement('tr');\n\n  const convertToString = (num) => {\n    if (num === null || num === undefined || isNaN(+num)) {\n      return '';\n    }\n\n    return `$${(+num).toLocaleString('en-US')}`;\n  };\n\n  row.innerHTML = `\n    <td>${data.name}</td>\n    <td>${data.position}</td>\n    <td>${data.office}</td>\n    <td>${data.age}</td>\n    <td>${convertToString(data.salary)}</td>\n  `;\n\n  tbody.appendChild(row);\n  tbody = table.tBodies[0];\n  tbodyRows = [...tbody.rows];\n};\n// NOTIFICATION\nconst pushNotification = (posRight, title, description, type) => {\n  const posTop = body.offsetHeight / 2 - body.getBoundingClientRect().top;\n  const notification = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  notification.classList.add('notification');\n  notification.classList.add(type);\n  notification.setAttribute('data-qa', 'notification');\n  notification.style.top = `${posTop}px`;\n  notification.style.right = `${posRight}px`;\n\n  h2.textContent = title;\n  p.textContent = description;\n  notification.append(h2, p);\n\n  body.appendChild(notification);\n  setTimeout(() => (notification.style.display = 'none'), 2000);\n};\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const data = Object.fromEntries(formData.entries());\n\n  const isValide = () => {\n    const checkInput = Object.values(data).every((val) => val !== '');\n    const checkName = data.name.length >= 4;\n    const checkAge = data.age >= 18 && data.age <= 90;\n\n    if (checkInput && checkName && checkAge) {\n      return true;\n    }\n\n    return false;\n  };\n\n  if (isValide()) {\n    createRow(data);\n    pushNotification(10, 'Success', 'Data added successfully', 'success');\n    form.reset();\n  } else {\n    pushNotification(\n      10,\n      'Error',\n      'Please fill in all fields and check valid values',\n      'error',\n    ); // eslint-disable-line\n  }\n});\n\n// DBLCLICK\n\n// eslint-disable-next-line no-shadow\ntbody.addEventListener('dblclick', (event) => {\n  const cell = event.target.closest('td');\n\n  if (cell && cell.cellIndex !== undefined) {\n    const initialValue = cell.textContent.trim();\n    const input = document.createElement('input');\n\n    input.type = 'text';\n    // input.value = initialValue.replace(/[$,]/g, '');\n    input.classList.add('cell-input');\n    cell.innerHTML = '';\n    cell.appendChild(input);\n    input.focus();\n\n    const saveValue = () => {\n      const newValue = input.value.trim();\n\n      if (cell.cellIndex === 4) {\n        // Перевіряємо чи введено коректне числове значення\n        const parsedValue = parseFloat(newValue.replace(/[$,]/g, ''));\n\n        if (isNaN(parsedValue) || parsedValue < 0) {\n          // Якщо некоректне значення, повертаємо попереднє\n          cell.textContent = `$${(+initialValue.replace(/[$,]/g, '')).toLocaleString('en-US')}`;\n        } else {\n          // Форматуємо число як зарплату\n          cell.textContent = `$${parsedValue.toLocaleString('en-US')}`;\n        }\n      } else if (newValue) {\n        // Для інших комірок просто оновлюємо значення\n        cell.textContent = newValue;\n      } else {\n        // Якщо порожнє, повертаємо початкове значення\n        cell.textContent = initialValue;\n      }\n\n      // Видаляємо поле вводу після збереження\n      input.remove();\n    };\n\n    input.addEventListener('blur', saveValue);\n\n    input.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter') {\n        saveValue();\n      }\n    });\n  }\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}